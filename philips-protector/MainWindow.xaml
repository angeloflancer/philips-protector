<Window x:Class="philips_protector.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:philips_protector"
        mc:Ignorable="d"
        Title="Philips Protector - License Manager" Height="600" Width="900"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="20">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="420" />
        </Grid.ColumnDefinitions>

        <!-- Left column: existing hardware/licensing UI -->
        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <TextBlock Grid.Row="0" Text="Hardware Fingerprint &amp; License Validation" 
                       FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

            <!-- Hardware Fingerprint Section -->
            <GroupBox Grid.Row="1" Header="Hardware License Key" Margin="0,0,0,15">
                <StackPanel Margin="10">
                    <TextBlock Text="Current Hardware License Key:" FontWeight="SemiBold" Margin="0,0,0,5"/>
                    <TextBox x:Name="FingerprintTextBox" IsReadOnly="True" 
                             TextWrapping="Wrap" 
                             Background="#F5F5F5"
                             Padding="8"
                             MinHeight="60"
                             VerticalScrollBarVisibility="Auto"/>
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <Button x:Name="CopyFingerprintButton" Content="Copy License Key" 
                                Click="CopyFingerprintButton_Click"
                                Padding="10,5"
                                Margin="0,0,10,0"/>
                        <Button x:Name="SaveLicenseKeyButton" Content="Save License Key" 
                                Click="SaveLicenseKeyButton_Click"
                                Padding="10,5"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

            <!-- License Key Section (hidden per request; logic remains in code-behind) -->
            <GroupBox Grid.Row="2" Header="License Key Validation" Margin="0,0,0,15" Visibility="Collapsed">
                <StackPanel Margin="10">
                    <TextBlock Text="Enter License Key:" FontWeight="SemiBold" Margin="0,0,0,5"/>
                    <TextBox x:Name="LicenseKeyTextBox" 
                             TextWrapping="Wrap"
                             Padding="8"
                             MinHeight="60"
                             VerticalScrollBarVisibility="Auto"
                             KeyDown="LicenseKeyTextBox_KeyDown"/>
                    <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                        <Button x:Name="ValidateButton" Content="Validate License" 
                                Click="ValidateButton_Click"
                                Padding="15,8"
                                FontWeight="SemiBold"
                                IsDefault="True"/>
                        <Button x:Name="ClearButton" Content="Clear" 
                                Click="ClearButton_Click"
                                Padding="15,8"
                                Margin="10,0,0,0"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

            <!-- Validation Status -->
            <Border Grid.Row="3" x:Name="StatusBorder" 
                    Background="#E8F5E9" 
                    BorderBrush="#4CAF50" 
                    BorderThickness="2"
                    CornerRadius="5"
                    Padding="15"
                    Margin="0,0,0,15"
                    Visibility="Collapsed">
                <StackPanel>
                    <TextBlock x:Name="StatusTextBlock" 
                               FontSize="16" 
                               FontWeight="SemiBold"
                               Foreground="#2E7D32"/>
                </StackPanel>
            </Border>

            <!-- Hardware Details Section -->
            <GroupBox Grid.Row="4" Header="Hardware Details" Margin="0,0,0,15">
                <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="200">
                    <StackPanel x:Name="HardwareDetailsPanel" Margin="10"/>
                </ScrollViewer>
            </GroupBox>
        </Grid>

        <!-- Right column: Protect via Spy -->
        <ScrollViewer Grid.Column="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="20,0,0,0">
                <GroupBox Header="Protect via Spy" Margin="0,0,0,15">
                    <StackPanel Margin="10">
                        <TextBlock Text="Target Executable:" FontWeight="SemiBold" Margin="0,0,0,5"/>
                        <StackPanel Orientation="Horizontal">
                            <TextBox x:Name="TargetExePathTextBox" Width="230" IsReadOnly="True" Margin="0,0,8,0"/>
                            <Button x:Name="SelectTargetExeButton" Content="Browse..." Width="80" Click="SelectTargetExeButton_Click"/>
                        </StackPanel>

                        <Button x:Name="ProtectViaSpyButton" Content="Protect via Spy" 
                                Width="140" 
                                Margin="0,15,0,0" 
                                Padding="10,8"
                                FontWeight="SemiBold"
                                Click="ProtectViaSpyButton_Click"/>

                        <TextBlock x:Name="ProtectStatusTextBlock" Margin="0,10,0,0" Foreground="#2E7D32" TextWrapping="Wrap"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
